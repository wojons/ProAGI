# Task 9.6: Define Sample App - "Simple Task Tracker"

**Goal:** Define the basic configuration (`app_definition.yaml`, `component_registry.yaml`) for a sample "Simple Task Tracker" application to be built using the UHLP framework.

**Context:**
- UHLP Framework Components & Concepts
- Data Models: `@core/shared/data_models.py`
- State Structure: `@.design-docs/100 - Appendixes.md` (Appendix A)
- Sample App Purpose: Basic CRUD operations for tasks (Create, List, Update Status, Delete). Data stored via MCP (e.g., to a hypothetical `community.database.simple_kv` tool).

**Plan:**

1.  **Create App Directory Structure:** Use `write_to_file` to create directories for the sample app's state, e.g., `sample_apps/task_tracker/state/`. Mirror the structure from Appendix A:
    *   `sample_apps/task_tracker/state/workflows/`
    *   `sample_apps/task_tracker/state/prompts/`
    *   `sample_apps/task_tracker/state/schemas/`
2.  **Create `app_definition.yaml`:** Use `write_to_file` to create `sample_apps/task_tracker/state/app_definition.yaml`. Define:
    *   `appId: simple-task-tracker`
    *   `displayName: Simple Task Tracker`
    *   `version: 0.1.0`
    *   `sandboxPoolConfig`: Define at least one pool (e.g., `python-runner` using image from Phase 3).
    *   `stateConfig`: Specify mock Git repo URL and Redis details (can be same as framework dev).
    *   `securityConfig`: Add a placeholder (e.g., no API keys initially).
    *   `optimizationConfig`: Add a placeholder (e.g., disabled).
    *   `defaultConfiguration`: Add any defaults needed (e.g., `{ "dbToolPrefix": "community.database.simple_kv" }`).
3.  **Create `component_registry.yaml`:** Use `write_to_file` to create `sample_apps/task_tracker/state/component_registry.yaml`. Define components for basic CRUD API endpoints:
    *   `list-tasks`:
        *   `handlerType: WORKFLOW`
        *   `targetPoolName: python-runner`
        *   `taskDetails: { workflowId: list-tasks-flow }`
        *   `routeMatcher: { path: /api/tasks, methods: [GET] }`
    *   `create-task`:
        *   `handlerType: WORKFLOW`
        *   `targetPoolName: python-runner`
        *   `taskDetails: { workflowId: create-task-flow }`
        *   `routeMatcher: { path: /api/tasks, methods: [POST] }`
    *   `get-task`:
        *   `handlerType: WORKFLOW`
        *   `targetPoolName: python-runner`
        *   `taskDetails: { workflowId: get-task-flow }`
        *   `routeMatcher: { path: /api/tasks/{taskId}, methods: [GET] }` # Example using path param
    *   `update-task-status`:
        *   `handlerType: WORKFLOW`
        *   `targetPoolName: python-runner`
        *   `taskDetails: { workflowId: update-task-status-flow }`
        *   `routeMatcher: { path: /api/tasks/{taskId}/status, methods: [PUT] }`
    *   `delete-task`:
        *   `handlerType: WORKFLOW`
        *   `targetPoolName: python-runner`
        *   `taskDetails: { workflowId: delete-task-flow }`
        *   `routeMatcher: { path: /api/tasks/{taskId}, methods: [DELETE] }`
4.  **Create Placeholder Files:** Use `write_to_file` to create empty placeholder files for the workflows referenced above in `sample_apps/task_tracker/state/workflows/` (e.g., `list-tasks-flow.yaml`).

**Expected Outcome:** YAML files defining the basic structure and component routing for the sample task tracker application are created in `sample_apps/task_tracker/state/`.