## Goal: Define the `StateManagerInterface` API

Based on Section 3.3 [18] and Section 4.3 [19] of the design documents, define the abstract interface for the State Manager. This interface will specify the methods for interacting with both definition (Git/YAML) and runtime (Redis) state.

**Plan:**

1.  **Review Specification:** Analyze Section 3.3 [18] (`StateManagerInterface`) and Section 4.3 [19] (`StateManagerService`), focusing on the method definitions for Definition State and Runtime State.
2.  **Choose Definition Method:** Define this as a Python Abstract Base Class (ABC) using the `abc` module. Alternatively, if gRPC is the primary communication method, define it as a `.proto` service definition. Let's assume Python ABC for now unless specified otherwise.
3.  **Create Interface File:** Use `write_to_file` to create `core/interfaces/state_manager_interface.py`.
4.  **Define Abstract Methods:** Inside the ABC, define the following methods using `@abstractmethod` and appropriate type hints (referencing the data models from `core/shared/data_models.py` if needed):
    *   `# Definition State Methods (Git/YAML)` [18, 19]
    *   `get_definition_file_content(self, app_id: str, file_path: str) -> bytes`
    *   `apply_definition_diff(self, app_id: str, diff_content: str, commit_message: str) -> bool` (or similar result indicator)
    *   `set_definition_file_content(self, app_id: str, file_path: str, content: bytes, commit_message: str) -> bool`
    *   `delete_definition_file(self, app_id: str, file_path: str, commit_message: str) -> bool`
    *   `list_definition_directory(self, app_id: str, dir_path: str) -> list[str]`
    *   `# Runtime State Methods (Redis)` [18, 19]
    *   `set_runtime_value(self, app_id: str, key: str, value: str, ttl_seconds: Optional[int] = None) -> bool`
    *   `get_runtime_value(self, app_id: str, key: str) -> Optional[str]`
    *   `delete_runtime_value(self, app_id: str, key: str) -> bool`
5.  **Add Docstrings:** Include docstrings for the class and each method explaining its purpose, arguments, and return value based on the design docs. Ensure parameters like `commitMessage` [6, 19] are included.

**Expected Outcome:** A Python file (`core/interfaces/state_manager_interface.py`) containing the ABC definition for `StateManagerInterface` with abstract methods, type hints, and docstrings.