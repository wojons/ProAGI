### 4.3 Tool Call

**Purpose:** Defines the structure representing a request to execute a tool within the Nexus CoCreate AI system. This structure is used in the `Response Payload` to provide transparency into the actions initiated by application logic or AI running within a Sandbox.

**Structure (Conceptual):**

```json
{
  "toolName": "string", // The name of the tool being requested
  "serverName": "string", // The name of the MCP server providing the tool (empty for core tools)
  "argumentsJson": "string", // The arguments for the tool call, as a JSON string
  "toolCallId": "string", // A unique identifier for this specific tool call instance
  "status": "string", // The current status of the tool call ("initiated", "running", "completed", "error")
  "resultJson": "string", // The result of the tool call, as a JSON string (present when status is "completed")
  "error": { // Details about an error if status is "error"
    "code": "string",
    "message": "string"
  }
}
```

**Key Fields:**

*   `toolName`: The name of the tool being requested for execution (e.g., "read_file", "execute_command", "get_current_time").
*   `serverName`: The name of the MCP server that provides the tool. This field is empty for core tools that are part of the Nexus CoCreate AI core framework.
*   `argumentsJson`: A JSON string containing the arguments passed to the tool. The structure of this JSON object must conform to the input schema defined for the specific tool.
*   `toolCallId`: A unique identifier generated for each instance of a tool call. This allows for tracking the lifecycle of a specific tool execution.
*   `status`: Indicates the current status of the tool call. This can be "initiated" (request sent), "running" (tool is executing), "completed" (execution finished successfully), or "error" (execution failed).
*   `resultJson`: A JSON string containing the output or result of the tool execution. This field is present when the `status` is "completed". The structure of this JSON object conforms to the output schema defined for the specific tool.
*   `error`: A JSON object providing details if the tool call resulted in an error. Includes a `code` and `message`. This field is present when the `status` is "error".

**Relationship to other Components:**

*   Generated by application logic or AI within a Sandbox.
*   Included in the `toolCalls` array within the `Response Payload` returned by the `Sandbox API`.
*   Processed by the `ToolManager` (conceptual) for execution.
*   Used by the `RequestRouter` and external clients (e.g., VSCode extension) to display tool activity and results to the user.
