### 4.11 SandboxStatus

**Purpose:** Defines the structure representing the status of a Sandbox instance managed by the `SandboxManager`. This structure is used when listing or retrieving the status of Sandboxes.

**Structure (Conceptual):**

```json
{
  "sandboxId": "string", // The unique identifier for the sandbox instance
  "appId": "string", // The unique identifier of the application running in this sandbox
  "status": "string", // The current status of the sandbox (e.g., "running", "stopped", "error", "allocating")
  "sandboxType": "string", // The type of sandbox (e.g., "docker", "process")
  "endpoint": "string", // Optional: The internal API endpoint for this sandbox (present when status is "running")
  "createdAt": "string", // ISO 8601 timestamp of when the sandbox was created/allocated
  "lastActiveAt": "string", // Optional: ISO 8601 timestamp of the last activity in the sandbox
  "error": { // Optional: Details about an error if status is "error"
    "code": "string",
    "message": "string"
  }
  // ... other relevant status details (e.g., resource usage) ...
}
```

**Key Fields:**

*   `sandboxId`: The unique identifier for this specific instance of a Sandbox.
*   `appId`: The unique identifier of the application that is currently running or was last running within this Sandbox.
*   `status`: A string indicating the current operational status of the Sandbox (e.g., "running", "stopped", "error", "allocating", "releasing").
*   `sandboxType`: The type of isolation environment used for this Sandbox (e.g., "docker", "process").
*   `endpoint`: An optional string containing the internal API endpoint (e.g., "http://<ip>:<port>") for communicating with the application running inside the Sandbox. This field is typically present only when the `status` is "running".
*   `createdAt`: An ISO 8601 formatted string indicating the timestamp when the Sandbox instance was created or allocated.
*   `lastActiveAt`: An optional ISO 8601 formatted string indicating the timestamp of the last recorded activity within the Sandbox. Useful for managing idle instances.
*   `error`: An optional JSON object providing details if the Sandbox is in an "error" status.

**Relationship to other Components:**

*   Generated by the `SandboxManager` in response to `GetSandboxStatusRequest` or `ListSandboxesRequest`.
*   Used by components that need to monitor or understand the state of active Sandboxes (e.g., the `RequestRouter` for routing requests, the UI for displaying system status).
